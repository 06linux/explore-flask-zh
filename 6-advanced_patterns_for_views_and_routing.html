<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>关于视图和路由的进阶技巧 | Flask之旅</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="spacewander">
        <meta name="description" content="《explore flask》中文翻译">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./7-blueprints.html" />
        
        
        <link rel="prev" href="./5-configuration.html" />
        

        <meta property="og:title" content="关于视图和路由的进阶技巧 | Flask之旅">
        <meta property="og:site_name" content="Flask之旅">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/spacewander">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="spacewander/explore-flask-zh" data-level="6" data-basepath="." data-revision="1412666276503">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/spacewander/explore-flask-zh" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/spacewander/explore-flask-zh/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/spacewander/explore-flask-zh/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Flask之旅</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/spacewander" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/spacewander/explore-flask-zh/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/spacewander/explore-flask-zh/edit/master/6-advanced_patterns_for_views_and_routing.md" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="1-introduction.html">
                
                <a href="./1-introduction.html">
                    <i class="fa fa-check"></i> <b>1.</b> 前言
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="2-coding_conventions.html">
                
                <a href="./2-coding_conventions.html">
                    <i class="fa fa-check"></i> <b>2.</b> 代码约定
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="3-environment.html">
                
                <a href="./3-environment.html">
                    <i class="fa fa-check"></i> <b>3.</b> 环境
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="4-organizing_your_project.html">
                
                <a href="./4-organizing_your_project.html">
                    <i class="fa fa-check"></i> <b>4.</b> 组织你的项目
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="5-configuration.html">
                
                <a href="./5-configuration.html">
                    <i class="fa fa-check"></i> <b>5.</b> 配置
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="6-advanced_patterns_for_views_and_routing.html">
                
                <a href="./6-advanced_patterns_for_views_and_routing.html">
                    <i class="fa fa-check"></i> <b>6.</b> 关于视图和路由的进阶技巧
                </a>
                
                
            </li>
        
            <li  data-level="7" data-path="7-blueprints.html">
                
                <a href="./7-blueprints.html">
                    <i class="fa fa-check"></i> <b>7.</b> 蓝图
                </a>
                
                
            </li>
        
            <li  data-level="8" data-path="8-templates.html">
                
                <a href="./8-templates.html">
                    <i class="fa fa-check"></i> <b>8.</b> 模板
                </a>
                
                
            </li>
        
            <li  data-level="9" data-path="9-static_files.html">
                
                <a href="./9-static_files.html">
                    <i class="fa fa-check"></i> <b>9.</b> 静态文件
                </a>
                
                
            </li>
        
            <li  data-level="10" data-path="10-storing-data.html">
                
                <a href="./10-storing-data.html">
                    <i class="fa fa-check"></i> <b>10.</b> 存储
                </a>
                
                
            </li>
        
            <li  data-level="11" data-path="11-handling_forms.html">
                
                <a href="./11-handling_forms.html">
                    <i class="fa fa-check"></i> <b>11.</b> 处理表单
                </a>
                
                
            </li>
        
            <li  data-level="12" data-path="12-handling_users.html">
                
                <a href="./12-handling_users.html">
                    <i class="fa fa-check"></i> <b>12.</b> 用户管理的规范
                </a>
                
                
            </li>
        
            <li  data-level="13" data-path="14-deployment.html">
                
                <a href="./14-deployment.html">
                    <i class="fa fa-check"></i> <b>13.</b> 部署
                </a>
                
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 76.92307692307692%;min-width: 69.23076923076923%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./1-introduction.html" title="前言" class="chapter done new-chapter" data-progress="1" style="left: 7.6923076923076925%;"></a>
    
        <a href="./10-storing-data.html" title="存储" class="chapter done " data-progress="10" style="left: 15.384615384615385%;"></a>
    
        <a href="./11-handling_forms.html" title="处理表单" class="chapter done " data-progress="11" style="left: 23.076923076923077%;"></a>
    
        <a href="./12-handling_users.html" title="用户管理的规范" class="chapter done " data-progress="12" style="left: 30.76923076923077%;"></a>
    
        <a href="./14-deployment.html" title="部署" class="chapter done " data-progress="13" style="left: 38.46153846153846%;"></a>
    
        <a href="./2-coding_conventions.html" title="代码约定" class="chapter done new-chapter" data-progress="2" style="left: 46.15384615384615%;"></a>
    
        <a href="./3-environment.html" title="环境" class="chapter done new-chapter" data-progress="3" style="left: 53.84615384615385%;"></a>
    
        <a href="./4-organizing_your_project.html" title="组织你的项目" class="chapter done new-chapter" data-progress="4" style="left: 61.53846153846154%;"></a>
    
        <a href="./5-configuration.html" title="配置" class="chapter done new-chapter" data-progress="5" style="left: 69.23076923076923%;"></a>
    
        <a href="./6-advanced_patterns_for_views_and_routing.html" title="关于视图和路由的进阶技巧" class="chapter done new-chapter" data-progress="6" style="left: 76.92307692307692%;"></a>
    
        <a href="./7-blueprints.html" title="蓝图" class="chapter  new-chapter" data-progress="7" style="left: 84.61538461538461%;"></a>
    
        <a href="./8-templates.html" title="模板" class="chapter  new-chapter" data-progress="8" style="left: 92.3076923076923%;"></a>
    
        <a href="./9-static_files.html" title="静态文件" class="chapter  new-chapter" data-progress="9" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_11">
                    
                        <p><img src="images/views.png" alt="关于视图和路由的进阶技巧"></p>
<h1 id="-">关于视图和路由的进阶技巧</h1>
<h2 id="-">视图装饰器</h2>
<p>Python装饰器让我们可以用其他函数包装特定函数。
当一个函数被一个装饰器&quot;装饰&quot;时，那个装饰器会被调用，接着会做额外的工作，修改变量，调用原来的那个函数。我们可以把我们想要重用的代码作为装饰器来包装一系列视图。</p>
<p>装饰器的语法看上去像这样:</p>
<pre><code class="lang-python"><span class="hljs-decorator">@decorator_function</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decorated</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<p>如果你看过Flask入门指南，那么对这个语法应该不敢到陌生。<code>@app.route</code>正是用于在Flask应用中给视图函数设定路由URL的装饰器。</p>
<p>让我们看一下在你的Flask应用中用得上的一些别的装饰器。</p>
<h3 id="-">认证</h3>
<p>Flask-Login使得用户认证系统的实现不再困难。
除了处理用户认证的细节之外，Flask-Login允许我们使用<code>@login_required</code>这个装饰器来验证用户对某些资源的访问权限。</p>
<p>下面是从一个用到Flask-Login和<code>@login_required</code>装饰器的一个示范应用中获取的例子:</p>
<pre><code>from Flask import render_template
from flask.ext.login import login_required, current_user


@app.route(&#39;/&#39;)
def index():
    return render_template(&quot;index.html&quot;)

@app.route(&#39;/dashboard&#39;)
@login_required
def account():
    return render_template(&quot;account.html&quot;)
</code></pre><blockquote>
<p><strong>注意</strong>
<code>@app.route</code>必须是最外面的视图装饰器。</p>
</blockquote>
<p>只有已经验证的用户能够接触到<em>/dashboard</em>路由。你可以配置Flask-Login来重定向未验证用户到登录页面，返回HTTP 401状态码或别的你乐意的事。</p>
<blockquote>
<p><strong>参见</strong>
通过<a href="http://flask-login.readthedocs.org/en/latest/" target="_blank">官方文档</a>可以读到更多关于Flask-Login的内容</p>
</blockquote>
<h3 id="-">缓存</h3>
<p>意淫一下，假如你的应用突然有一天在微博/朋友圈或网上别的地方火了。
于是秒秒钟会有成千上万的请求涌向你的应用。你的主页在每个请求中都要从数据库跑上一大趟，结果海量的请求导致网站慢得像教务系统一样。
你能做什么来加速这一过程，以免用户以为你的应用挂掉了？</p>
<p>答案不止一个，不过就本章主旨而言，标准答案是实现缓存。
特别的，我们将要用到<a href="http://pythonhosted.org/Flask-Cache/" target="_blank">Flask-Cache</a>拓展。这个拓展给我们提供一个可以用来缓存某个响应一段时间的装饰器。</p>
<p>你可以将Flask-Cache配置成跟你想用的后台缓存一起使用。一个普遍的选择是<a href="http://redis.io/" target="_blank">Redis</a>，一个容易配置和使用的软件。
假设Flask-Cache已经配置好了，下面是我们的被装饰的视图的例子:</p>
<pre><code>from flask.ext.cache import Cache
from flask import Flask

app = Flask()

# 通过这个方式获取相关配置
cache = Cache(app)

@app.route(&#39;/&#39;)
@cache.cached(timeout=60)
def index():
    [...] # 进行一些数据库调用来获取所需信息
    return render_template(
        &#39;index.html&#39;,
        latest_posts=latest_posts,
        recent_users=recent_users,
        recent_photos=recent_photos
    )
</code></pre><p>现在这个函数将会在每60秒最多运行一次。响应的结果会被保存在缓存中，并可以让期间的每一个请求获取。</p>
<blockquote>
<p><strong>注意</strong>
Flask-Cache同时允许我们<strong>记住</strong>函数 - 或缓存通过给定的参数调用的某个函数。你甚至可以缓存过于复杂的Jinja2模板片段!</p>
</blockquote>
<h3 id="-">自定义装饰器</h3>
<p>在这个例子中，让我们假设我们有一个应用，每个月要求用户定期付费。如果一个用户的账户已经过期，我们要重定向他们到账单页面并把悲伤的现实告知。</p>
<p>myapp/util.py</p>
<pre><code>from functools import wraps
from datetime import datetime

from flask import flash, redirect, url_for

from flask.ext.login import current_user

def check_expired(func):
    @wraps(func)
    def decorated_function(*args, **kwargs):
        if datetime.utcnow() &gt; current_user.account_expires:
            flash(&quot;Your account has expired. Please update your billing information.&quot;)
            return redirect(url_for(&#39;account_billing&#39;))
        return func(*args, **kwargs)

    return decorated_function
</code></pre><ol>
<li>当用<code>@check_expired</code>装饰一个函数时，<code>check_expired()</code>被调用，被装饰的函数作为一个参数被传递进来。</li>
<li><code>@wraps</code>是一个装饰器，告知Python函数<code>decorated_function()</code>包装了视图函数<code>func()</code>。严格来说这不是必须的，但是这么做会使得装饰函数更加自然一些，更有利于文档和调试。</li>
<li><code>decorated_function</code>将截取原本传递给视图函数<code>func()</code>的args和kwargs。在这里我们检查用户的账户是否过期。如果是，我们将闪烁一则信息，并重定向到账单页面。</li>
<li>既然已经处理好自己的事情，我们把原来的参数交由视图函数<code>func()</code>去继续执行。</li>
</ol>
<p>位于最顶部的装饰器将最先运行，然后调用下一个函数:一个视图函数或下一个装饰器。装饰器语法只是一个语法糖而已。</p>
<pre><code class="lang-python"><span class="hljs-comment"># 这样</span>
<span class="hljs-decorator">@foo</span>
<span class="hljs-decorator">@bar</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">one</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<pre><code class="lang-python"><span class="hljs-comment"># 等同于这样:</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">two</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">pass</span>
two = foo(bar(two))
r2 = two()

r1 == r2 <span class="hljs-comment"># True</span>
</code></pre>
<p>下面这个例子用到了我们自定义的装饰器和来自Flask-Cache拓展的<code>@login_required</code>装饰器。我们可以将多个装饰器堆成栈来一起使用。</p>
<p>myapp/views.py</p>
<pre><code>from flask import render_template

from flask.ext.login import login_required

from . import app
from .util import check_expired

@app.route(&#39;/use_app&#39;)
@login_required
@check_expired
def use_app():
    &quot;&quot;&quot;欢迎光临&quot;&quot;&quot;

    return render_template(&#39;use_app.html&#39;)

@app.route(&#39;/account/billing&#39;)
@login_required
def account_billing():
    &quot;&quot;&quot;拿账单来&quot;&quot;&quot;
    # [...]
    return render_template(&#39;account/billing.html&#39;)
</code></pre><p>当一个用户试图访问<em>/use_app</em>时，<code>check_expired()</code>将在执行视图函数之前确保相关的账户资料不会泄漏。</p>
<blockquote>
<p>参见
在Python文档中可以读到更多关于<code>wraps()</code>的内容：<a href="http://docs.python.org/2/library/functools.html#functools.wraps" target="_blank">http://docs.python.org/2/library/functools.html#functools.wraps</a></p>
</blockquote>
<h2 id="url-">URL转换器</h2>
<h3 id="-">内建转换器</h3>
<p>当你在Flask中定义一个路由时，你可以将指定的一部分转换成Python变量并传递给视图函数。</p>
<pre><code>@app.route(&#39;/user/&lt;username&gt;&#39;)
def profile(username):
    pass
</code></pre><p>在URL中作为<username>的那一部分内容将作为<code>username</code>参数传递给视图函数。你也可以指定一个转换器过滤出特定的类型。</p>
<pre><code>@app.route(&#39;/user/id/&lt;int:user_id&gt;&#39;)
def profile(user_id):
    pass
</code></pre><p>在这个代码块中，<a href="http://myapp.com/user/id/tomato" target="_blank">http://myapp.com/user/id/tomato</a> 这个URL会返回一个404状态码 -- 此物无处觅。
这是因为URL中预期是整数的部分却遇到了一串字符串。</p>
<p>我们可以有另外一个接受一个字符串的视图函数。<em>/usr/id/tomato/</em>将调用它，而前一个函数只会被<em>/user/id/124</em>所调用。</p>
<p>下面是来自Flask文档的关于默认转换器的表格:</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>接受任何没有斜杠<code>/</code>的文本（默认）</td>
</tr>
<tr>
<td>int</td>
<td>接受整数</td>
</tr>
<tr>
<td>float</td>
<td>类似于<code>int</code>，但是接受的是浮点数</td>
</tr>
<tr>
<td>path</td>
<td>类似于<code>string</code>，但是接受斜杠<code>/</code></td>
</tr>
</tbody>
</table>
<h3 id="-">自定义转换器</h3>
<p>我们也可以按照自己的需求打造自定义的转换器。
Reddit - 一个知名的链接分享网站 - 用户在此可以创建和管理基于主题和链接分享的社区。
比如<code>/r/python</code>和<code>/r/flask</code>，分别由URL<code>reddit.com/r/python</code>和<code>reddit.com/r/flask</code>表示。
Reddit有一个有趣的特性是，通过在URL中用一个<code>+</code>隔开各个社区名，你可以同时看到来自多个社区的帖子。比如<code>reddit.com/r/python+flask</code>。</p>
<p>我们可以使用一个自定义转换器来实现这种特性。
我们可以接受由加号隔离开来的任意数目参数，通过我们的ListConverter转换成一个列表，并传递给视图函数。</p>
<p>util.py</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> werkzeug.routing <span class="hljs-keyword">import</span> BaseConverter

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListConverter</span><span class="hljs-params">(BaseConverter)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_python</span><span class="hljs-params">(self, value)</span>:</span>
        <span class="hljs-keyword">return</span> value.split(<span class="hljs-string">'+'</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_url</span><span class="hljs-params">(self, values)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">'+'</span>.join(BaseConverter.to_url(value)
                        <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> values)
</code></pre>
<p>我们需要定义两个方法:<code>to_python()</code>和<code>to_url()</code>。
一如其名，<code>to_python()</code>用于转换路径成一个Python对象，并传递给视图函数。而<code>to_url()</code>被<code>url_for()</code>调用，来转换参数成为符合URL的形式。</p>
<p>为了使用我们的ListConverter，我们首先得将它的存在告知Flask。</p>
<p>/myapp/<strong>init</strong>.py</p>
<pre><code>from flask import Flask

app = Flask(__name__)

from .util import ListConverter

app.url_map.converters[&#39;list&#39;] = ListConverter
</code></pre><blockquote>
<p><strong>注意</strong>
假如你的util模块有一行<code>from . import app</code>，那么有可能陷入循环import的问题。这就是为什么我等到app初始化之后才import ListConverter。</p>
</blockquote>
<p>现在我们可以一如使用内建转换器一样使用我们的转换器。我们在字典中指定它的键为&quot;list&quot;，所以我们可以在<code>@app.route()</code>中这样使用:</p>
<p>views.py</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> app

<span class="hljs-decorator">@app.route('/r/&lt;list:subreddits&gt;')</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">subreddit_home</span><span class="hljs-params">(subreddits)</span>:</span>
    <span class="hljs-string">"""显示给定subreddits里的所有帖子"""</span>
    posts = []
    <span class="hljs-keyword">for</span> subreddit <span class="hljs-keyword">in</span> subreddits:
        posts.extend(subreddit.posts)

    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">'/r/index.html'</span>, posts=posts)
</code></pre>
<p>这应该会像Reddit的子社区系统一样工作。这样的方法可以用来实现你能想到的URL转换器。</p>
<h2 id="-">总结</h2>
<ul>
<li>Custom URL converters can be a great way to implement creative features involving URL’s.</li>
<li>来自Flask-Login的<code>@login_required</code>装饰器可以帮助你限制验证用户对视图的访问。</li>
<li>Flask-Cache插件为你提供一组装饰器来实现多种方式的缓存。</li>
<li>我们可以开发自定义视图装饰器来帮助我们组织自己的代码，并坚守DRY(Don&#39;t Repeat Yourself 不重复你自己)原则。</li>
<li>自定义的URL转换器将会让你很嗨地玩转URL。</li>
</ul>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./5-configuration.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./7-blueprints.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
